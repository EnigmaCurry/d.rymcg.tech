version: "3.7"

# This binds to localhost only, so use this from an SSH tunnel.
# No Traefik nor TLS is used.
services:
  bitwarden:
    image: bitwardenrs/server:latest
    container_name: "bitwarden"
    security_opt:
    - no-new-privileges:true
    restart: always
    environment:
      - WEBSOCKET_ENABLED=true
    volumes:
      - bitwarden:/data
    ports:
      - 127.0.0.1:${BITWARDEN_PORT}:80
volumes:
  bitwarden:
