version: "3.3"

networks:
  traefik-proxy:
    external:
      name: traefik-proxy

volumes:
  baikal_config:
  baikal_data:
  
services:
  baikal:
    image: "ckulka/baikal:nginx"
    container_name: "baikal"
    networks:
      - traefik-proxy
    restart: unless-stopped
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.baikal.rule=Host(`${BAIKAL_TRAEFIK_HOST}`)"
      - "traefik.http.routers.baikal.entrypoints=websecure"
      - "traefik.http.routers.baikal.tls.certresolver=default"
    volumes:
      - baikal_config:/var/www/baikal/config
      - baikal_data:/var/www/baikal/Specific
