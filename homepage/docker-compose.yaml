version: "3.3"

volumes:
  config:
    
services:
  config:
    build:
      context: config
    security_opt:
      - no-new-privileges:true
#    environment:
    volumes:
      - config:/app/config

  homepage:
    image: ghcr.io/benphelps/homepage:${HOMEPAGE_VERSION}
    volumes:
      - config:/app/config 
      - /var/run/docker.sock:/var/run/docker.sock:ro # (optional) For docker integrations
    depends_on:
      - config
    # All labels are defined in the template: docker-compose.instance.yaml
    # The labels will merge together here from the template output:
    #   docker-compose.override_{DOCKER_CONTEXT}_{INSTANCE}.yaml
    labels: []
    